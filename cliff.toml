[changelog]
header = """
# Changelog
All notable changes to this project will be documented in this file.\n
"""
body = """
{% if version %}\
  ## {{ version }} ({{ timestamp | date(format="%B %d, %Y") }})
{% else %}\
  ## Unreleased
{% endif %}\
{% for group, commits in commits | group_by(attribute="group") %}\
  ### {{ group }}\
  {% for commit in commits %}
    - [[`{{ commit.id | truncate(length=7, end="") }}`](<REPO>/commit/{{ commit.id }})] - {{ commit.message }}\
  {% endfor %}\n
{% endfor %}
"""
footer = "<!-- generated by git-cliff -->"
trim = true
postprocessors = [
  { pattern = "<REPO>", replace = "https://github.com/wgumenyuk/spyter" }
]

[git]
conventional_commits = true
filter_commits = true
commit_preprocessors = [
  { pattern = "\\((\\w+\\s)?#([0-9]+)\\)", replace = "([#${2}](<REPO>/issues/${2}))" }
]
commit_parsers = [
  { message = "^chore", group = "Chores" },
  { message = "^ci", group = "CI" },
  { message = "^docs", group = "Documentation" },
  { message = "^feat", group = "Features" },
  { message = "^fix", group = "Fixes" },
  { message = "^merge", group = "Merge" },
  { message = "^perf", group = "Performance" },
  { message = "^refactor", group = "Refactor" },
  { message = "^revert", group = "Revert" },
  { message = "^style", group = "Styling" },
  { message = "^test", group = "Testing" }
]
sort_commits = "newest"